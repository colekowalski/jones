import os

bind = '127.0.0.1:7777'
backlog = 2048

def get_workers():
    procs = os.sysconf('SC_NPROCESSORS_ONLN')
    if procs > 0:
        return procs * 2 + 1
    else:
        return 3

workers = get_workers()
worker_class = 'egg:gunicorn#gevent'
worker_connections = 1000
timeout = 30
keepalive = 2

debug = False
spew = False

daemon = False
pidfile = None
umask = 0
user = None
group = None
tmp_upload_dir = None

logfile = '-'
loglevel = 'info'
accesslog = '-'

proc_name = None

#
# Server hooks
#
#   post_fork - Called just after a worker has been forked.
#
#       A callable that takes a server and worker instance
#       as arguments.
#
#   pre_fork - Called just prior to forking the worker subprocess.
#
#       A callable that accepts the same arguments as after_fork
#
#   pre_exec - Called just prior to forking off a secondary
#       master process during things like config reloading.
#
#       A callable that takes a server instance as the sole argument.
#
# 
# def post_fork(server, worker):
#     pass
# 
# def pre_fork(server, worker):
#     pass
# 
# def pre_exec(server):
#     pass
